<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мини блог - Пользователи</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Мини блог</h1>
        <nav>
            <ul>
                <li><a href="Index.html">Посты</a></li>
                <li><a href="Users.html" class="active">Пользователи</a></li>
            </ul>
        </nav>
    </header>

<main>
    <h2>Все пользователи</h2>
    <div id="loader" class="loader">Загрузка....</div>
    <div id="users-container" class="users-container"></div>
    <div id="error-message" class="error" style="display: none;"></div>
</main>

<footer>
    <p>2025 Mini Blog by z1tex666</p>
</footer>

<script src="script.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        loadUsers();

        async function loadUsers() {
            showLoader('loader');
            hideError('error-message');

            try {
                const users = await fetchData('/users');
                displayUsers(users);
            } catch (error) {
                showError('error-message', 'Не удалось загрузить пользователей, пожалуйста, попробуйте позже');
            } finally {
                hideLoader('loader');
            }
        }

        function displayUsers(users) {
            const usersContainer = document.getElementById('users-container');
            usersContainer.innerHTML = users.map(user => `
            <div class="card user-card">
                <h3>${user.name}</h3>
                <p><strong>Email:</strong> ${user.email}</p>
                <p><strong>Город:</strong> ${user.address.city}</p>
                <p><strong>Телефон:</strong> ${user.phone}</p>
                <p><strong>Вебсайт:</strong> ${user.website}</p>
                <p><strong>Компания:</strong> ${user.company.name}</p>
            </div>
        `).join('');
        }
    });
    </script>
</body>
</html>